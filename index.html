<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>BrainBank - Juego de Finanzas</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
    }
    .game-container {
      max-width: 700px;
      margin: auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
      color: #003366;
    }
    .status-bar {
      display: flex;
      justify-content: space-between;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .question {
      font-size: 1.2rem;
      margin-bottom: 15px;
    }
    .option {
      display: block;
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      background-color: #e0ecf7;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }
    .option:hover {
      background-color: #c6d9f1;
    }
    .feedback {
      height: 30px;
      font-weight: bold;
      margin-top: 10px;
    }
    .summary {
      background-color: #e9ffe9;
      border: 1px solid #4CAF50;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
    }
    select {
      margin-bottom: 10px;
      padding: 8px;
      border-radius: 6px;
    }
  </style>
</head>
<body>
<div class="game-container">
  <h1>BrainBank ðŸ’°</h1>
  <div>
    <label for="nivelSelect"><strong>Seleccionar nivel:</strong></label>
    <select id="nivelSelect" onchange="seleccionarNivel(this.value)">
      <option value="0">Nivel BÃ¡sico</option>
      <option value="1">Nivel Intermedio</option>
      <option value="2">Nivel Avanzado</option>
    </select>
  </div>
  <div class="status-bar">
    <div id="nivel">Nivel: BÃ¡sico</div>
    <div id="presupuesto">Presupuesto: $100</div>
    <div id="energia">EnergÃ­a: 100%</div>
  </div>
  <div class="question" id="pregunta">Cargando pregunta...</div>
  <div id="opciones"></div>
  <div class="feedback" id="feedback"></div>
  <div class="summary" id="resumen" style="display: none;"></div>
</div>

<script>
const niveles = ["BÃ¡sico", "Intermedio", "Avanzado"];
let nivelActual = 0;
let preguntaActual = 0;
let presupuesto = 100;
let energia = 100;
let respuestasCorrectas = 0;

const preguntas = [
  // BÃ¡sico
  [
    { pregunta: "Â¿QuÃ© es un presupuesto?", opciones: [
      { texto: "Una forma de ahorrar", energia: -5 },
      { texto: "Un plan para usar el dinero âœ…", energia: 10 },
      { texto: "Un impuesto", energia: -10 }
    ], correcta: 1 },
    { pregunta: "Â¿CuÃ¡l es una buena forma de ahorrar?", opciones: [
      { texto: "Ahorrar lo que sobra âœ…", energia: 5 },
      { texto: "Gastar primero", energia: -10 },
      { texto: "Pedir dinero", energia: -10 }
    ], correcta: 0 },
    { pregunta: "Â¿QuÃ© es una necesidad bÃ¡sica?", opciones: [
      { texto: "Celular nuevo", energia: -5 },
      { texto: "Comida y vivienda âœ…", energia: 10 },
      { texto: "Vacaciones", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿QuÃ© es un ingreso?", opciones: [
      { texto: "Un gasto", energia: -5 },
      { texto: "Dinero que ganas âœ…", energia: 10 },
      { texto: "Una deuda", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿QuÃ© es un gasto fijo?", opciones: [
      { texto: "Comida rÃ¡pida", energia: -5 },
      { texto: "Pago mensual de internet âœ…", energia: 10 },
      { texto: "Compras al azar", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿QuÃ© es un gasto variable?", opciones: [
      { texto: "Mismo monto mensual", energia: -5 },
      { texto: "Compra de ropa âœ…", energia: 5 },
      { texto: "Salario", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿QuÃ© significa vivir dentro de tus posibilidades?", opciones: [
      { texto: "Gastar mÃ¡s de lo que ganas", energia: -10 },
      { texto: "Gastar lo justo âœ…", energia: 10 },
      { texto: "Pedir prestado", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿Por quÃ© es importante ahorrar desde joven?", opciones: [
      { texto: "Para presumir", energia: -5 },
      { texto: "Para aprender buenos hÃ¡bitos âœ…", energia: 10 },
      { texto: "Para gastar mÃ¡s", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿QuÃ© es el ahorro a corto plazo?", opciones: [
      { texto: "Para el retiro", energia: -5 },
      { texto: "Para compras cercanas âœ…", energia: 10 },
      { texto: "Una deuda", energia: -5 }
    ], correcta: 1 },
    { pregunta: "Â¿QuÃ© pasa si gastas mÃ¡s de lo que ganas?", opciones: [
      { texto: "Ahorras mÃ¡s", energia: -5 },
      { texto: "Te endeudas âœ…", energia: 10 },
      { texto: "Nada", energia: -5 }
    ], correcta: 1 }
  ],
  // Intermedio (puedes copiar el mismo formato y ajustar preguntas)
  [...Array(10).fill({
    pregunta: "Pregunta intermedia de ejemplo",
    opciones: [
      { texto: "OpciÃ³n 1", energia: -5 },
      { texto: "OpciÃ³n correcta âœ…", energia: 10 },
      { texto: "OpciÃ³n 3", energia: -5 }
    ],
    correcta: 1
  })],
  // Avanzado (igual)
  [...Array(10).fill({
    pregunta: "Pregunta avanzada de ejemplo",
    opciones: [
      { texto: "Incorrecta", energia: -5 },
      { texto: "Correcta âœ…", energia: 10 },
      { texto: "Incorrecta", energia: -5 }
    ],
    correcta: 1
  })]
];

function cargarPregunta() {
  if (energia <= 0) {
    document.getElementById("pregunta").textContent = "âŒ EnergÃ­a agotada. No puedes continuar.";
    document.getElementById("opciones").innerHTML = "";
    return;
  }

  const q = preguntas[nivelActual][preguntaActual];
  document.getElementById("pregunta").textContent = q.pregunta;
  document.getElementById("opciones").innerHTML = "";

  q.opciones.forEach((op, i) => {
    const btn = document.createElement("button");
    btn.textContent = op.texto.replace(" âœ…", "");
    btn.className = "option";
    btn.onclick = () => responder(i, q.correcta, op.energia);
    document.getElementById("opciones").appendChild(btn);
  });

  document.getElementById("feedback").textContent = "";
  document.getElementById("resumen").style.display = "none";
}

function responder(seleccionada, correcta, energiaCambio) {
  energia += energiaCambio;
  if (energia > 100) energia = 100;
  if (energia < 0) energia = 0;

  if (seleccionada === correcta) {
    presupuesto += 10;
    respuestasCorrectas++;
    mostrarFeedback("âœ… Â¡Correcto!", "green");
  } else {
    presupuesto -= 5;
    mostrarFeedback("âŒ Incorrecto.", "red");
  }

  actualizarBarra();

  setTimeout(() => {
    preguntaActual++;
    if (preguntaActual < preguntas[nivelActual].length && energia > 0) {
      cargarPregunta();
    } else {
      mostrarResumen();
    }
  }, 1200);
}

function actualizarBarra() {
  document.getElementById("presupuesto").textContent = `Presupuesto: $${presupuesto}`;
  document.getElementById("energia").textContent = `EnergÃ­a: ${energia}%`;
}

function mostrarFeedback(texto, color) {
  const feedback = document.getElementById("feedback");
  feedback.textContent = texto;
  feedback.style.color = color;
}

function mostrarResumen() {
  const resumen = document.getElementById("resumen");
  resumen.style.display = "block";
  resumen.innerHTML = `
    <h3>ðŸŽ‰ Â¡Nivel completado!</h3>
    <p>Respuestas correctas: ${respuestasCorrectas}/${preguntas[nivelActual].length}</p>
    <p>Presupuesto final: $${presupuesto}</p>
    <p>EnergÃ­a final: ${energia}%</p>
  `;
}

function seleccionarNivel(n) {
  nivelActual = parseInt(n);
  preguntaActual = 0;
  presupuesto = 100;
  energia = 100;
  respuestasCorrectas = 0;
  document.getElementById("nivel").textContent = `Nivel: ${niveles[nivelActual]}`;
  actualizarBarra();
  cargarPregunta();
}

seleccionarNivel(0);
</script>
</body>
</html>